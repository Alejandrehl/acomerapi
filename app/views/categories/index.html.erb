<div class="container table-responsive pt-5 pb-5">
<div class="text-left mb-5">
  <h2>Mis categorías</h2>
  <%= link_to '<i class="batch-icon batch-icon-plus mr-3"></i>Nueva Categoría'.html_safe, new_category_path, class: "btn acomer-primary" %>
</div>

<% if @categories.blank?%>
  <div> 
    <div class="card alert alert-warning text-center">
      <h4>
        Aún no has agregado categorías para tus productos.
      </h4>
    </div>
  </div>
<% else %>
  <table id="datatable-1" class="table table-datatable table-striped table-hover">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Cantidad de Productos</th>
        <th>
          Acciones
        </th>
      </tr>
    </thead>
    <tbody>
    <% @categories.each do |category| %>
      <tr>
        <td><%= category.name %></td>
        <td><%= category.description %></td>
        <td><%= category.products.count %></td>
        <td>
          <%= link_to '<i class="batch-icon batch-icon-eye"></i>'.html_safe, categories_show_products_path(id: category.id), class: "btn btn-sm btn-outline-primary mb-2" %>
          <%= link_to '<i class="batch-icon batch-icon-compose-alt-3"></i>'.html_safe, edit_category_path(category), class: "btn btn-sm acomer-btn-primary-outline mb-2" %>
          <%= link_to '<i class="batch-icon batch-icon-bin-alt-2"></i>'.html_safe, category, method: :delete, data: { confirm: '¿Estás seguro?' }, class: "btn btn-sm acomer-btn-tertiary mb-2" %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <br>
</div>
<% end %>